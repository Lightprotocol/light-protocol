{
  "name": "@lightprotocol/programs",
  "version": "0.3.0",
  "license": "Apache-2.0",
  "scripts": {
    "build": "ROOT_DIR=$(git rev-parse --show-toplevel) && export SBF_OUT_DIR=\"$ROOT_DIR/target/deploy\" && mkdir -p \"$SBF_OUT_DIR\" && cd system/ && cargo build-sbf && cd ..  && cd  account-compression/ && cargo build-sbf --features 'test, migrate-state' && cd .. && cd  registry/ && cargo build-sbf && cd .. && cd compressed-token/program && cargo build-sbf && cd ../../..",
    "build-compressed-token-small": "cd compressed-token && cargo build-sbf --features cpi-without-program-ids && cd ..",
    "build-system": "anchor build --program-name light_system_program -- --features idl-build custom-heap",
    "build-compressed-token": "anchor build --program-name light_compressed_token -- --features idl-build custom-heap",
    "test": "RUSTFLAGS=\"-D warnings\" && pnpm test-account-compression &&  pnpm test-compressed-token && pnpm e2e-test && pnpm test-registry && pnpm sdk-test-program && pnpm test-system && pnpm test-system-cpi && pnpm test-batched-merkle-tree",
    "test-account-compression": "cd account-compression && cargo build-sbf --features 'test, migrate-state' && cd .. && cargo-test-sbf -p account-compression-test",
    "test-batched-merkle-tree": "cd account-compression && cargo build-sbf --features 'test, migrate-state' && cd .. && cargo test-sbf -p batched-merkle-tree-test -- --skip test_simulate_transactions --skip test_e2e",
    "test-compressed-token": "cargo test-sbf -p compressed-token-test",
    "e2e-test": "cargo-test-sbf -p e2e-test",
    "test-registry": "cargo-test-sbf -p registry-test",
    "sdk-test-program": "cargo test-sbf -p sdk-native-test",
    "test-system": "cargo test-sbf -p system-test",
    "test-system-cpi": "cargo test-sbf -p system-cpi-test",
    "ignored-program-owned-account-test": "cargo-test-sbf -p program-owned-account-test"
  },
  "nx": {
    "targets": {
      "build": {
        "outputs": [
          "{workspaceRoot}/target/deploy",
          "{workspaceRoot}/target/idl",
          "{workspaceRoot}/target/types"
        ]
      }
    }
  }
}
