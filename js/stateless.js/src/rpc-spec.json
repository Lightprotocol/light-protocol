{
  "openrpc": "1.2.1",
  "info": {
    "version": "0.0.1",
    "title": "Compression API"
  },
  "methods": [
    {
      "name": "getMerkleProof",
      "description": "Return the merkle tree proof information for a compressed account",
      "params": [
        {
          "name": "id",
          "description": "The id of the utxo",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "$ref": "#/components/contentDescriptors/merkleProof"
      }
    },

    {
      "name": "getTokenBalancesByOwner",
      "description": "Return the list of token balances given an owner address",
      "params": [
        {
          "name": "ownerAddress",
          "description": "The address of the owner of the token balances",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "sortBy",
          "description": "Sorting criteria",
          "schema": {
            "type": "object",
            "$ref": "#/components/contentDescriptors/sortBy"
          }
        },
        {
          "name": "limit",
          "description": "The maximum number of assets to retrieve",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "page",
          "description": "The index of the \"page\" to retrieve",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "before",
          "description": "Retrieve token balance before the specified ID",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "after",
          "description": "Retrieve assets after the specified ID",
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "$ref": "#/components/contentDescriptors/assetList"
      }
    }
  ],
  "components": {
    "contentDescriptors": {
      "asset": {
        "name": "Asset",
        "schema": {
          "type": "object",
          "properties": {
            "interface": {
              "type": "string",
              "enum": [
                "V1_NFT",
                "V1_PRINT",
                "LEGACY_NFT",
                "V2_NFT",
                "FungibleAsset",
                "Custom",
                "Identity",
                "Executable",
                "ProgrammableNFT"
              ]
            },
            "id": {
              "type": "string"
            },
            "content": {
              "type": "object",
              "required": ["$schema"],
              "properties": {
                "$schema": {
                  "type": "string"
                },
                "json_uri": {
                  "type": "string"
                },
                "files": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["uri", "mime"],
                    "properties": {
                      "uri": {
                        "type": "string"
                      },
                      "mime": {
                        "type": "string"
                      },
                      "quality": {
                        "type": "object",
                        "properties": {
                          "$$schema": {
                            "type": "string"
                          }
                        }
                      },
                      "contexts": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "wallet-default",
                            "web-desktop",
                            "web-mobile",
                            "app-mobile",
                            "app-desktop",
                            "app",
                            "vr"
                          ]
                        }
                      }
                    }
                  }
                },
                "metadata": {
                  "type": "object",
                  "required": ["name", "symbol"],
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "symbol": {
                      "type": "string"
                    },
                    "token_standard": {
                      "type": "string",
                      "enum": [
                        "NonFungible",
                        "FungibleAsset",
                        "Fungible",
                        "NonFungibleEdition",
                        "ProgrammableNonFungible",
                        "ProgrammableNonFungibleEdition"
                      ]
                    },
                    "attributes": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "value": {
                            "type": "string"
                          },
                          "trait_type": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "links": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            },
            "authorities": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "address": {
                    "type": "string"
                  },
                  "scopes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": ["full", "royalty", "metadata", "extension"]
                    }
                  }
                }
              }
            },
            "compression": {
              "type": "object",
              "properties": {
                "eligible": {
                  "type": "boolean"
                },
                "compressed": {
                  "type": "boolean"
                },
                "data_hash": {
                  "type": "string"
                },
                "creator_hash": {
                  "type": "string"
                },
                "asset_hash": {
                  "type": "string"
                },
                "tree": {
                  "type": "string"
                },
                "seq": {
                  "type": "number"
                },
                "leaf_id": {
                  "type": "string"
                }
              }
            },
            "grouping": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "group_key": {
                    "type": "string"
                  },
                  "group_value": {
                    "type": "string"
                  }
                }
              }
            },
            "royalty": {
              "type": "object",
              "properties": {
                "royalty_model": {
                  "type": "string",
                  "enum": ["creators", "fanout", "single"]
                },
                "target": {
                  "type": "string"
                },
                "percent": {
                  "type": "number"
                },
                "basis_points": {
                  "type": "number"
                },
                "primary_sale_happened": {
                  "type": "boolean"
                },
                "locked": {
                  "type": "boolean"
                }
              }
            },
            "creators": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "address": {
                    "type": "string"
                  },
                  "share": {
                    "type": "number"
                  },
                  "verified": {
                    "type": "boolean"
                  }
                }
              }
            },
            "ownership": {
              "type": "object",
              "properties": {
                "frozen": {
                  "type": "boolean"
                },
                "delegated": {
                  "type": "boolean"
                },
                "delegate": {
                  "type": "string"
                },
                "ownership_model": {
                  "type": "string",
                  "enum": ["single", "token"]
                },
                "owner": {
                  "type": "string"
                }
              }
            },
            "uses": {
              "type": "object",
              "properties": {
                "use_method": {
                  "type": "string",
                  "enum": ["burn", "multiple", "single"]
                },
                "remaining": {
                  "type": "number"
                },
                "total": {
                  "type": "number"
                }
              }
            },
            "supply": {
              "type": "object",
              "properties": {
                "print_max_supply": {
                  "type": "number"
                },
                "print_current_supply": {
                  "type": "number"
                },
                "edition_nonce": {
                  "type": "number"
                }
              }
            },
            "mutable": {
              "type": "boolean"
            },
            "burnt": {
              "type": "boolean"
            }
          }
        }
      },
      "assetList": {
        "name": "AssetList",
        "schema": {
          "type": "object",
          "properties": {
            "total": {
              "type": "number"
            },
            "limit": {
              "type": "number"
            },
            "items": {
              "type": "array",
              "$ref": "#/components/contentDescriptors/asset"
            }
          }
        }
      },
      "merkleProof": {
        "name": "MerkleProof",
        "schema": {
          "type": "object",
          "required": ["node_index", "tree_id", "proof"],
          "properties": {
            "root": {
              "type": "string"
            },
            "proof": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "node_index": {
              "type": "number"
            },
            "leaf": {
              "type": "string"
            },
            "tree_id": {
              "type": "string"
            }
          }
        }
      },
      "sortBy": {
        "name": "sortBy",
        "schema": {
          "type": "object",
          "properties": {
            "sortBy": {
              "type": "string",
              "enum": ["created", "updated", "recent_action", "none"]
            },
            "sortDirection": {
              "type": "string",
              "enum": ["asc", "desc"]
            }
          }
        }
      }
    }
  }
}
